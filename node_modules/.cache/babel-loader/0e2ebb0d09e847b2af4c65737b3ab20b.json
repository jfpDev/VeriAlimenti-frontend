{"ast":null,"code":"var _jsxFileName = \"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/src/components/Root/Purchases/index.js\";\nimport React, { Component } from 'react';\nimport NavRoot from '../../ModuleComponents/Nav/NavRoot/'; //import './styles.css'\n\n{\n  /*const articlesView = {\n   name: '',\n   kprice: '',\n   amount: '',\n   tprice: '',\n  };\n  */\n}\n\nclass Purchases extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      kprice: '',\n      amount: '',\n      tprice: '',\n      articlesView: []\n    };\n    this.addPurchase = this.addPurchase.bind(this);\n    this.handleChange = this.handleChange.bind(this); //this.fetchArticles = this.fetchArticles.bind(this);\n    // me sale eror cuando llamo todayPurchases()\n    //this.todayPurchases = this.todayPurchases.bind(this);\n  }\n\n  todayPurchases(e) {\n    e.preventDefault();\n    this.articlesView = this.state;\n    this.addPurchase(); //document.getElementById('totalPrice').innerText =\n  }\n\n  componentDidMount() {\n    this.fetchArticles();\n  }\n\n  fetchArticles() {\n    fetch('http://localhost:8080/db/articles', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        articlesView: data\n      });\n      console.log(this.state.articlesView);\n    });\n  }\n\n  addPurchase(e) {\n    e.preventDefault();\n    this.state.tprice = this.state.kprice * this.state.amount;\n    fetch('http://localhost:8080/db/articles', {\n      method: 'POST',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }); //M.toast({html: 'Article saved'});\n    //console.log(this.state);\n\n    this.setState({\n      name: '',\n      kprice: '',\n      amount: '',\n      tprice: ''\n    }); //this.fetchArticles();\n    //this.todayPurchases();\n  }\n\n  handleChange(e) {\n    //console.log(e.target.value);\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(NavRoot, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Estas son las compras de hoy\"), React.createElement(\"div\", {\n      className: \"col s5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.addPurchase,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onChange: this.handleChange,\n      className: \"input-field col s5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"name\",\n      type: \"text\",\n      placeholder: \"Article\",\n      value: this.state.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      onChange: this.handleChange,\n      className: \"input-field col s1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"kprice\",\n      type: \"number\",\n      placeholder: \"$/kg\",\n      value: this.state.kprice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      onChange: this.handleChange,\n      className: \"input-field col s1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"amount\",\n      type: \"number\",\n      placeholder: \"Amount\",\n      value: this.state.amount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn-floating btn-medium waves-effect waves-light darken-blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"add\")))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"$ Price/Kg\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Amount\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"$ Total\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.state.articlesView.map(article => {\n      return React.createElement(\"tr\", {\n        key: article.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, article.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, article.kprice), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, article.amount), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, article.tprice));\n    }))))));\n  }\n\n}\n\nexport default Purchases; //oninput=\"totalp.value=parseInt(kprice.value)*parseInt(amount.value)","map":{"version":3,"sources":["/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/src/components/Root/Purchases/index.js"],"names":["React","Component","NavRoot","Purchases","constructor","state","name","kprice","amount","tprice","articlesView","addPurchase","bind","handleChange","todayPurchases","e","preventDefault","componentDidMount","fetchArticles","fetch","method","headers","then","res","json","data","setState","console","log","body","JSON","stringify","target","value","render","map","article","key"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport NavRoot from '../../ModuleComponents/Nav/NavRoot/';\n//import './styles.css'\n\n{/*const articlesView = {\n  name: '',\n  kprice: '',\n  amount: '',\n  tprice: '',\n};\n*/}\nclass Purchases extends Component{\n\n  constructor(){\n    super();\n    this.state = {\n      name: '',\n      kprice: '',\n      amount: '',\n      tprice: '',\n      articlesView: [],\n    };\n    this.addPurchase = this.addPurchase.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    //this.fetchArticles = this.fetchArticles.bind(this);\n    // me sale eror cuando llamo todayPurchases()\n    //this.todayPurchases = this.todayPurchases.bind(this);\n  }\n\n  todayPurchases(e){\n    e.preventDefault();\n    this.articlesView = this.state;\n    this.addPurchase();\n    //document.getElementById('totalPrice').innerText =\n  }\n\n\ncomponentDidMount(){\n  this.fetchArticles();\n}\n\nfetchArticles(){\n  fetch('http://localhost:8080/db/articles',{\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then(res => res.json())\n    .then(data =>{\n      this.setState({articlesView: data});\n      console.log(this.state.articlesView);\n    })\n}\n\n\naddPurchase(e){\n  e.preventDefault();\n  this.state.tprice = this.state.kprice * this.state.amount;\n  fetch('http://localhost:8080/db/articles',{\n    method: 'POST',\n    body: JSON.stringify(this.state),\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  //M.toast({html: 'Article saved'});\n  //console.log(this.state);\n  this.setState({\n    name: '',\n    kprice: '',\n    amount: '',\n    tprice: '',\n  })\n  //this.fetchArticles();\n  //this.todayPurchases();\n}\n\nhandleChange(e){\n  //console.log(e.target.value);\n  const {name, value} = e.target;\n  this.setState({\n    [name]: value\n  })\n}\n\nrender(){\n  return(\n    <div>\n    <NavRoot/>\n    <div className=\"container\">\n      <h3>Estas son las compras de hoy</h3>\n      <div className=\"col s5\">\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <form onSubmit={this.addPurchase} >\n              <div onChange={this.handleChange} className=\"input-field col s5\">\n                <input name=\"name\" type=\"text\" placeholder=\"Article\" value={this.state.name}/>\n              </div>\n              <div onChange={this.handleChange} className=\"input-field col s1\">\n                <input name=\"kprice\" type=\"number\" placeholder=\"$/kg\" value={this.state.kprice}/>\n              </div>\n              <div onChange={this.handleChange} className=\"input-field col s1\">\n                <input name=\"amount\" type=\"number\" placeholder=\"Amount\" value={this.state.amount}/>\n              </div>\n              <button type=\"submit\" className=\"btn-floating btn-medium waves-effect waves-light darken-blue\"><i class=\"material-icons\">add</i></button>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <table>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>$ Price/Kg</th>\n              <th>Amount</th>\n              <th>$ Total</th>\n            </tr>\n          </thead>\n          <tbody>\n          {\n            this.state.articlesView.map(article => {\n              return(\n                <tr key={article.key}>\n                  <td>{article.name}</td>\n                  <td>{article.kprice}</td>\n                  <td>{article.amount}</td>\n                  <td>{article.tprice}</td>\n                </tr>\n              )\n            })\n          }\n          </tbody>\n        </table>\n      </div>\n    </div>\n    </div>\n\n  );\n }\n}\n\n\nexport default Purchases;\n\n//oninput=\"totalp.value=parseInt(kprice.value)*parseInt(amount.value)\n"]},"metadata":{},"sourceType":"module"}