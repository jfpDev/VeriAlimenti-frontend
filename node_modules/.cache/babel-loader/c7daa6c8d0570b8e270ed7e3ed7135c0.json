{"ast":null,"code":"import _defineProperty from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import NavRoot from'../../ModuleComponents/Nav/NavRoot/';//import './styles.css'\n{/*const articlesView = {\n  name: '',\n  kprice: '',\n  amount: '',\n  tprice: '',\n};\n*/}var Purchases=/*#__PURE__*/function(_Component){_inherits(Purchases,_Component);function Purchases(){var _this;_classCallCheck(this,Purchases);_this=_possibleConstructorReturn(this,_getPrototypeOf(Purchases).call(this));_this.state={name:'',kprice:'',amount:'',tprice:'',articlesView:[]};_this.addPurchase=_this.addPurchase.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));//this.fetchArticles = this.fetchArticles.bind(this);\n// me sale eror cuando llamo todayPurchases()\n//this.todayPurchases = this.todayPurchases.bind(this);\nreturn _this;}_createClass(Purchases,[{key:\"todayPurchases\",value:function todayPurchases(e){e.preventDefault();this.articlesView=this.state;this.addPurchase();//document.getElementById('totalPrice').innerText =\n}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchArticles();}},{key:\"fetchArticles\",value:function fetchArticles(){var _this2=this;fetch('http://localhost:8080/db/articles',{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){_this2.setState({articlesView:data});console.log(_this2.state.articlesView);});}},{key:\"addPurchase\",value:function addPurchase(e){e.preventDefault();this.state.tprice=this.state.kprice*this.state.amount;fetch('http://localhost:8080/db/articles',{method:'POST',body:JSON.stringify(this.state),headers:{'Accept':'application/json','Content-Type':'application/json'}});//M.toast({html: 'Article saved'});\n//console.log(this.state);\nthis.setState({name:'',kprice:'',amount:'',tprice:''});//this.fetchArticles();\n//this.todayPurchases();\n}},{key:\"handleChange\",value:function handleChange(e){//console.log(e.target.value);\nvar _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(NavRoot,null),React.createElement(\"div\",{className:\"container\"},React.createElement(\"h3\",null,\"Estas son las compras de hoy\"),React.createElement(\"div\",{className:\"col s5\"},React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"form\",{onSubmit:this.addPurchase},React.createElement(\"div\",{onChange:this.handleChange,className:\"input-field col s5\"},React.createElement(\"input\",{name:\"name\",type:\"text\",placeholder:\"Article\",value:this.state.name})),React.createElement(\"div\",{onChange:this.handleChange,className:\"input-field col s1\"},React.createElement(\"input\",{name:\"kprice\",type:\"number\",placeholder:\"$/kg\",value:this.state.kprice})),React.createElement(\"div\",{onChange:this.handleChange,className:\"input-field col s1\"},React.createElement(\"input\",{name:\"amount\",type:\"number\",placeholder:\"Amount\",value:this.state.amount})),React.createElement(\"button\",{type:\"submit\",className:\"btn-floating btn-medium waves-effect waves-light darken-blue\"},React.createElement(\"i\",{class:\"material-icons\"},\"add\")))))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Name\"),React.createElement(\"th\",null,\"$ Price/Kg\"),React.createElement(\"th\",null,\"Amount\"),React.createElement(\"th\",null,\"$ Total\"))),React.createElement(\"tbody\",null,this.state.articlesView.map(function(article){return React.createElement(\"tr\",{key:article.key},React.createElement(\"td\",null,article.name),React.createElement(\"td\",null,article.kprice),React.createElement(\"td\",null,article.amount),React.createElement(\"td\",null,article.tprice));}))))));}}]);return Purchases;}(Component);export default Purchases;//oninput=\"totalp.value=parseInt(kprice.value)*parseInt(amount.value)","map":{"version":3,"sources":["/home/jfelipepava/Documents/Coding/Java/VeriAlimentiApp/verialimenti-front/VeriAlimenti-frontend/src/components/Root/Purchases/index.js"],"names":["React","Component","NavRoot","Purchases","state","name","kprice","amount","tprice","articlesView","addPurchase","bind","handleChange","e","preventDefault","fetchArticles","fetch","method","headers","then","res","json","data","setState","console","log","body","JSON","stringify","target","value","map","article","key"],"mappings":"qwCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,qCAApB,CACA;AAEA,CAAC;;;;;;EAME,C,GACGC,CAAAA,S,mEAEJ,oBAAa,2CACX,6EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,MAAM,CAAE,EAFG,CAGXC,MAAM,CAAE,EAHG,CAIXC,MAAM,CAAE,EAJG,CAKXC,YAAY,CAAE,EALH,CAAb,CAOA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA;AACA;AACA;AAbW,aAcZ,C,4EAEcE,C,CAAE,CACfA,CAAC,CAACC,cAAF,GACA,KAAKL,YAAL,CAAoB,KAAKL,KAAzB,CACA,KAAKM,WAAL,GACA;AACD,C,6DAGgB,CACjB,KAAKK,aAAL,GACD,C,qDAEc,iBACbC,KAAK,CAAC,mCAAD,CAAqC,CACxCC,MAAM,CAAE,KADgC,CAExCC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAF+B,CAArC,CAAL,CAOGC,IAPH,CAOQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPX,EAQGF,IARH,CAQQ,SAAAG,IAAI,CAAG,CACX,MAAI,CAACC,QAAL,CAAc,CAACd,YAAY,CAAEa,IAAf,CAAd,EACAE,OAAO,CAACC,GAAR,CAAY,MAAI,CAACrB,KAAL,CAAWK,YAAvB,EACD,CAXH,EAYD,C,gDAGWI,C,CAAE,CACZA,CAAC,CAACC,cAAF,GACA,KAAKV,KAAL,CAAWI,MAAX,CAAoB,KAAKJ,KAAL,CAAWE,MAAX,CAAoB,KAAKF,KAAL,CAAWG,MAAnD,CACAS,KAAK,CAAC,mCAAD,CAAqC,CACxCC,MAAM,CAAE,MADgC,CAExCS,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,KAAKxB,KAApB,CAFkC,CAGxCc,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAH+B,CAArC,CAAL,CAQA;AACA;AACA,KAAKK,QAAL,CAAc,CACZlB,IAAI,CAAE,EADM,CAEZC,MAAM,CAAE,EAFI,CAGZC,MAAM,CAAE,EAHI,CAIZC,MAAM,CAAE,EAJI,CAAd,EAMA;AACA;AACD,C,kDAEYK,C,CAAE,CACb;AADa,cAESA,CAAC,CAACgB,MAFX,CAENxB,IAFM,WAENA,IAFM,CAEAyB,KAFA,WAEAA,KAFA,CAGb,KAAKP,QAAL,oBACGlB,IADH,CACUyB,KADV,GAGD,C,uCAEO,CACN,MACE,gCACA,oBAAC,OAAD,MADA,CAEA,2BAAK,SAAS,CAAC,WAAf,EACE,6DADF,CAEE,2BAAK,SAAS,CAAC,QAAf,EACE,2BAAK,SAAS,CAAC,MAAf,EACE,2BAAK,SAAS,CAAC,cAAf,EACE,4BAAM,QAAQ,CAAE,KAAKpB,WAArB,EACE,2BAAK,QAAQ,CAAE,KAAKE,YAApB,CAAkC,SAAS,CAAC,oBAA5C,EACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,WAAW,CAAC,SAA3C,CAAqD,KAAK,CAAE,KAAKR,KAAL,CAAWC,IAAvE,EADF,CADF,CAIE,2BAAK,QAAQ,CAAE,KAAKO,YAApB,CAAkC,SAAS,CAAC,oBAA5C,EACE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,QAA1B,CAAmC,WAAW,CAAC,MAA/C,CAAsD,KAAK,CAAE,KAAKR,KAAL,CAAWE,MAAxE,EADF,CAJF,CAOE,2BAAK,QAAQ,CAAE,KAAKM,YAApB,CAAkC,SAAS,CAAC,oBAA5C,EACE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,QAA1B,CAAmC,WAAW,CAAC,QAA/C,CAAwD,KAAK,CAAE,KAAKR,KAAL,CAAWG,MAA1E,EADF,CAPF,CAUE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,8DAAhC,EAA+F,yBAAG,KAAK,CAAC,gBAAT,QAA/F,CAVF,CADF,CADF,CADF,CAFF,CAoBE,2BAAK,SAAS,CAAC,KAAf,EACE,iCACE,iCACE,8BACE,qCADF,CAEE,2CAFF,CAGE,uCAHF,CAIE,wCAJF,CADF,CADF,CASE,iCAEE,KAAKH,KAAL,CAAWK,YAAX,CAAwBsB,GAAxB,CAA4B,SAAAC,OAAO,CAAI,CACrC,MACE,2BAAI,GAAG,CAAEA,OAAO,CAACC,GAAjB,EACE,8BAAKD,OAAO,CAAC3B,IAAb,CADF,CAEE,8BAAK2B,OAAO,CAAC1B,MAAb,CAFF,CAGE,8BAAK0B,OAAO,CAACzB,MAAb,CAHF,CAIE,8BAAKyB,OAAO,CAACxB,MAAb,CAJF,CADF,CAQD,CATD,CAFF,CATF,CADF,CApBF,CAFA,CADF,CAqDA,C,uBAnIsBP,S,EAuIxB,cAAeE,CAAAA,SAAf,CAEA","sourcesContent":["import React, {Component} from 'react';\nimport NavRoot from '../../ModuleComponents/Nav/NavRoot/';\n//import './styles.css'\n\n{/*const articlesView = {\n  name: '',\n  kprice: '',\n  amount: '',\n  tprice: '',\n};\n*/}\nclass Purchases extends Component{\n\n  constructor(){\n    super();\n    this.state = {\n      name: '',\n      kprice: '',\n      amount: '',\n      tprice: '',\n      articlesView: [],\n    };\n    this.addPurchase = this.addPurchase.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    //this.fetchArticles = this.fetchArticles.bind(this);\n    // me sale eror cuando llamo todayPurchases()\n    //this.todayPurchases = this.todayPurchases.bind(this);\n  }\n\n  todayPurchases(e){\n    e.preventDefault();\n    this.articlesView = this.state;\n    this.addPurchase();\n    //document.getElementById('totalPrice').innerText =\n  }\n\n\ncomponentDidMount(){\n  this.fetchArticles();\n}\n\nfetchArticles(){\n  fetch('http://localhost:8080/db/articles',{\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then(res => res.json())\n    .then(data =>{\n      this.setState({articlesView: data});\n      console.log(this.state.articlesView);\n    })\n}\n\n\naddPurchase(e){\n  e.preventDefault();\n  this.state.tprice = this.state.kprice * this.state.amount;\n  fetch('http://localhost:8080/db/articles',{\n    method: 'POST',\n    body: JSON.stringify(this.state),\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  //M.toast({html: 'Article saved'});\n  //console.log(this.state);\n  this.setState({\n    name: '',\n    kprice: '',\n    amount: '',\n    tprice: '',\n  })\n  //this.fetchArticles();\n  //this.todayPurchases();\n}\n\nhandleChange(e){\n  //console.log(e.target.value);\n  const {name, value} = e.target;\n  this.setState({\n    [name]: value\n  })\n}\n\nrender(){\n  return(\n    <div>\n    <NavRoot/>\n    <div className=\"container\">\n      <h3>Estas son las compras de hoy</h3>\n      <div className=\"col s5\">\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <form onSubmit={this.addPurchase} >\n              <div onChange={this.handleChange} className=\"input-field col s5\">\n                <input name=\"name\" type=\"text\" placeholder=\"Article\" value={this.state.name}/>\n              </div>\n              <div onChange={this.handleChange} className=\"input-field col s1\">\n                <input name=\"kprice\" type=\"number\" placeholder=\"$/kg\" value={this.state.kprice}/>\n              </div>\n              <div onChange={this.handleChange} className=\"input-field col s1\">\n                <input name=\"amount\" type=\"number\" placeholder=\"Amount\" value={this.state.amount}/>\n              </div>\n              <button type=\"submit\" className=\"btn-floating btn-medium waves-effect waves-light darken-blue\"><i class=\"material-icons\">add</i></button>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <table>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>$ Price/Kg</th>\n              <th>Amount</th>\n              <th>$ Total</th>\n            </tr>\n          </thead>\n          <tbody>\n          {\n            this.state.articlesView.map(article => {\n              return(\n                <tr key={article.key}>\n                  <td>{article.name}</td>\n                  <td>{article.kprice}</td>\n                  <td>{article.amount}</td>\n                  <td>{article.tprice}</td>\n                </tr>\n              )\n            })\n          }\n          </tbody>\n        </table>\n      </div>\n    </div>\n    </div>\n\n  );\n }\n}\n\n\nexport default Purchases;\n\n//oninput=\"totalp.value=parseInt(kprice.value)*parseInt(amount.value)\n"]},"metadata":{},"sourceType":"module"}